<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Git 基本使用与常用命令 | CPPRTO</title><meta name="description" content="背景版本管理的演变 VCS（Version Control System）出现之前  用目录拷贝区别不同版本 公共文件容易被覆盖 成员沟通成本高，代码集成效率低下  集中式 VCS（如 CVS）  有集中的版本管理服务器 具备文件版本管理和分支管理能力 集成效率有明显提高 客户端必须时刻与服务器相连  分布式 VCS（如 Git）  服务端和客户端都有完整的版本库 脱离服务端，客户端也可以管理版本"><meta name="keywords" content="教程"><meta name="author" content="cpprto"><meta name="copyright" content="cpprto"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://cpprto.gitee.io/2020/09/22/Git-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="Git 基本使用与常用命令"><meta property="og:url" content="https://cpprto.gitee.io/2020/09/22/Git-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"><meta property="og:site_name" content="CPPRTO"><meta property="og:description" content="背景版本管理的演变 VCS（Version Control System）出现之前  用目录拷贝区别不同版本 公共文件容易被覆盖 成员沟通成本高，代码集成效率低下  集中式 VCS（如 CVS）  有集中的版本管理服务器 具备文件版本管理和分支管理能力 集成效率有明显提高 客户端必须时刻与服务器相连  分布式 VCS（如 Git）  服务端和客户端都有完整的版本库 脱离服务端，客户端也可以管理版本"><meta property="og:image" content="https://s1.ax1x.com/2020/09/22/wXA4RP.png"><meta property="article:published_time" content="2020-09-22T19:07:17.000Z"><meta property="article:modified_time" content="2020-09-22T20:46:37.000Z"><meta name="twitter:card" content="summary"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?69d8bd2de8f48be7e268be5386f98dc5";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime: '天',
  date_suffix: {"one_hour":"刚刚","hours":"小时前","day":"天前"},
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
    },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-09-22 20:46:37'
}</script><noscript><style type="text/css">
#nav {
  opacity: 1
}
.justified-gallery img {
  opacity: 1
}
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'false'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://s1.ax1x.com/2020/09/21/wqn7cV.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">13</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">4</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-number">1.</span> <span class="toc-text">背景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E7%9A%84%E6%BC%94%E5%8F%98"><span class="toc-number">1.1.</span> <span class="toc-text">版本管理的演变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git"><span class="toc-number">1.2.</span> <span class="toc-text">Git</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-%E5%AE%89%E8%A3%85%E4%B8%8E%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">Git 安装与最小配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">2.2.</span> <span class="toc-text">最小配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Git-%E4%BB%93%E5%BA%93"><span class="toc-number">3.</span> <span class="toc-text">创建 Git 仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">基本使用与常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E5%B7%A5%E4%BD%9C%E5%8C%BA%E4%B8%8E%E6%9A%82%E5%AD%98%E5%8C%BA"><span class="toc-number">4.1.</span> <span class="toc-text">认识工作区与暂存区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D"><span class="toc-number">4.2.</span> <span class="toc-text">常用命令介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%87%8D%E5%91%BD%E5%90%8D"><span class="toc-number">4.2.1.</span> <span class="toc-text">文件重命名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E9%80%80%E5%88%B0%E4%B8%8A%E4%B8%80%E6%AC%A1-commit"><span class="toc-number">4.2.2.</span> <span class="toc-text">回退到上一次 commit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87-git-log-%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E6%BC%94%E5%8F%98%E5%8E%86%E5%8F%B2"><span class="toc-number">4.2.3.</span> <span class="toc-text">通过 git log 查看版本演变历史</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="toc-number">4.2.4.</span> <span class="toc-text">查看分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E5%88%86%E6%94%AF"><span class="toc-number">4.2.5.</span> <span class="toc-text">管理分支</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90"><span class="toc-number">5.</span> <span class="toc-text">Git 原理剖析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HEAD-%E6%96%87%E4%BB%B6"><span class="toc-number">5.1.</span> <span class="toc-text">HEAD 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#config-%E6%96%87%E4%BB%B6"><span class="toc-number">5.2.</span> <span class="toc-text">config 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#refs-%E7%9B%AE%E5%BD%95"><span class="toc-number">5.3.</span> <span class="toc-text">refs 目录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#heads-%E7%9B%AE%E5%BD%95"><span class="toc-number">5.3.1.</span> <span class="toc-text">heads 目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tags-%E7%9B%AE%E5%BD%95"><span class="toc-number">5.3.2.</span> <span class="toc-text">tags 目录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A0%B8%E5%BF%83-objects"><span class="toc-number">5.4.</span> <span class="toc-text">Git 文件系统的核心 - objects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-%E5%AF%B9%E8%B1%A1%E5%BD%BC%E6%AD%A4%E5%85%B3%E7%B3%BB"><span class="toc-number">5.5.</span> <span class="toc-text">Git 对象彼此关系</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://s1.ax1x.com/2020/09/22/wXA4RP.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">CPPRTO</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Git 基本使用与常用命令</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-22T19:07:17.000Z" title="发表于 2020-09-22 19:07:17">2020-09-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-09-22T20:46:37.000Z" title="更新于 2020-09-22 20:46:37">2020-09-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E5%85%B7/">软件工具</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>7分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><h3 id="版本管理的演变"><a href="#版本管理的演变" class="headerlink" title="版本管理的演变"></a>版本管理的演变</h3><blockquote>
<p><strong>VCS（Version Control System）出现之前</strong></p>
<ul>
<li>用目录拷贝区别不同版本</li>
<li>公共文件容易被覆盖</li>
<li>成员沟通成本高，代码集成效率低下</li>
</ul>
<p><strong>集中式 VCS（如 CVS）</strong></p>
<ul>
<li>有集中的版本管理服务器</li>
<li>具备文件版本管理和分支管理能力</li>
<li>集成效率有明显提高</li>
<li>客户端必须时刻与服务器相连</li>
</ul>
<p><strong>分布式 VCS（如 Git）</strong></p>
<ul>
<li>服务端和客户端都有完整的版本库</li>
<li>脱离服务端，客户端也可以管理版本</li>
<li>支持查看历史和版本比较等多数操作，都不需要访问服务器，比集中式 VCS 更能提高版本管理效率</li>
</ul>
</blockquote>
<h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><blockquote>
<p>Git 是一个开源的分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理。<br>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。<br>Torvalds 开始着手开发 Git 是为了作为一种过渡方案来替代 BitKeeper</p>
<p><strong>特点</strong></p>
<ul>
<li>最优的存储能力</li>
<li>非凡的性能</li>
<li>开源</li>
<li>容易做备份</li>
<li>支持离线操作</li>
<li>容易定制工作流程</li>
</ul>
</blockquote>
<h2 id="Git-安装与最小配置"><a href="#Git-安装与最小配置" class="headerlink" title="Git 安装与最小配置"></a>Git 安装与最小配置</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>安装 <strong><a target="_blank" rel="noopener" href="https://git-scm.com/downloads">Git</a></strong></p>
<h3 id="最小配置"><a href="#最小配置" class="headerlink" title="最小配置"></a>最小配置</h3><p>配置 user 信息 <code>user.name</code> 和 <code>user.email</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &quot;your_name&quot;</span><br><span class="line">$ git config --global user.email &quot;your_email&quot;</span><br></pre></td></tr></table></figure>

<p><code>config</code> 的三个作用域，缺省等同于 <code>local</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git config --local  # local 即只针对某个仓库有效 </span><br><span class="line">$ git config --global  # global 即针对当前用户的所有仓库有效</span><br><span class="line">$ git config --system  # system 即针对系统所有登录的用户有效</span><br></pre></td></tr></table></figure>

<p>显示 <code>config</code> 的配置， 加 <code>--list</code> 参数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git config --list --local</span><br><span class="line">$ git config --list --golbal</span><br><span class="line">$ git config --list --system</span><br></pre></td></tr></table></figure>

<h2 id="创建-Git-仓库"><a href="#创建-Git-仓库" class="headerlink" title="创建 Git 仓库"></a>创建 Git 仓库</h2><p>分为以下两种场景：</p>
<ol>
<li>把已有的项目代码纳入 Git 管理<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd 项目代码所在的目录</span><br><span class="line">$ git init</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>新项目直接使用 Git 管理<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd 某个目录</span><br><span class="line">$ git init your_project  # 该命令会在该目录下创建与项目名称同名的目录</span><br><span class="line">$ cd your_project</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="基本使用与常用命令"><a href="#基本使用与常用命令" class="headerlink" title="基本使用与常用命令"></a>基本使用与常用命令</h2><h3 id="认识工作区与暂存区"><a href="#认识工作区与暂存区" class="headerlink" title="认识工作区与暂存区"></a>认识工作区与暂存区</h3><p>以下为一些常用的基本命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ git status  # 查看工作目录与暂存区的状态</span><br><span class="line">$ git add files  # 提交 files 到暂存区 </span><br><span class="line">$ git commit -m “commit message” # 生成 commit（-m 参数：编辑生成 commit 信息，若不加该参数将会进入文本编辑器）</span><br><span class="line">$ git log  # 查看 commit 历史</span><br></pre></td></tr></table></figure>

<p><img src="/2020/09/22/Git-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/commit.png" alt="向仓库中添加文件的过程"></p>
<h3 id="常用命令介绍"><a href="#常用命令介绍" class="headerlink" title="常用命令介绍"></a>常用命令介绍</h3><h4 id="文件重命名"><a href="#文件重命名" class="headerlink" title="文件重命名"></a>文件重命名</h4><p><code>git mv old_name new_name</code></p>
<h4 id="回退到上一次-commit"><a href="#回退到上一次-commit" class="headerlink" title="回退到上一次 commit"></a>回退到上一次 commit</h4><p><code>git reset --hard</code></p>
<h4 id="通过-git-log-查看版本演变历史"><a href="#通过-git-log-查看版本演变历史" class="headerlink" title="通过 git log 查看版本演变历史"></a>通过 <code>git log</code> 查看版本演变历史</h4><ul>
<li>查看当前分支的 <strong>commit</strong> 历史信息 <code>git log</code> 不加任何参数时只查看当前分支</li>
<li>查看所有分支的 <strong>commit</strong> 历史信息 <code>git log --all</code></li>
<li>图形化（字符画）展示 <strong>commit</strong> 历史信息 <code>git log --all --graph</code></li>
<li>查看历史 <strong>commit</strong> 信息列表（简洁信息） <code>git log --oneline</code></li>
<li>查看最近的 <strong>4</strong> 条历史 <strong>commit</strong> 信息列表 <code>git log -n4 --oneline</code></li>
<li>图形化界面工具，查看所有分支的 <strong>commit</strong> 历史信息 <code>gitk --all</code></li>
</ul>
<h4 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h4><ul>
<li>查看当前分支 <code>git branch</code></li>
<li>查看本地所有分支信息 <code>git branch -v</code></li>
<li>查看所有分支信息（包含远程分支） <code>git branch -av</code></li>
</ul>
<h4 id="管理分支"><a href="#管理分支" class="headerlink" title="管理分支"></a>管理分支</h4><ul>
<li>创建新分支 <code>git checkout -b 新分支名称 hash值</code><br>填写 <strong>commit</strong> 的 “hash值” 可以指定基于该 <strong>commit</strong> 创建新分支（可用 <code>git log</code> 命令查看对应 <strong>commit</strong> 的 “hash值” ）</li>
<li>切换分支 <code>git checkout 其他已存在的分支</code></li>
</ul>
<h2 id="Git-原理剖析"><a href="#Git-原理剖析" class="headerlink" title="Git 原理剖析"></a>Git 原理剖析</h2><p>首先进入 <code>.git</code> 目录下，接下来对 <code>.git</code> 目录下的各文件与目录进行解析</p>
<h3 id="HEAD-文件"><a href="#HEAD-文件" class="headerlink" title="HEAD 文件"></a>HEAD 文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd .git&#x2F;</span><br><span class="line">$ cat HEAD</span><br><span class="line">ref: refs&#x2F;heads&#x2F;master</span><br></pre></td></tr></table></figure>

<p>即 <code>HEAD</code> 文件中的内容为 <strong>ref: refs/heads/master</strong>，那么这个内容代表什么意思呢？</p>
<p>此时输入 <code>git branch -av</code> 显示我们当前所在分支为 <code>* master</code>， <code>*</code> 即代表当前所在，由此我们了解了，<code>HEAD</code> 文件中的内容即是记录了我们当前所在的分支信息。而 <code>refs/heads/master</code> 看起来像是一个路径，这个接下来再说</p>
<h3 id="config-文件"><a href="#config-文件" class="headerlink" title="config 文件"></a>config 文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd .git&#x2F;</span><br><span class="line">$ cat config</span><br><span class="line">...</span><br><span class="line">[user]</span><br><span class="line">    name &#x3D; user.name  # 使用 --local 参数设置的用户名</span><br><span class="line">    email &#x3D; user.email  # 使用 --local 参数设置的邮箱</span><br></pre></td></tr></table></figure>

<p>显而易见 <code>.git</code> 目录下的 <code>config</code> 文件中保存了 <code>--local</code> 相关信息，此时修改文件中的内容后使用 <code>git config --local --list</code> 命令查看相应结果也会发生对应的变化</p>
<h3 id="refs-目录"><a href="#refs-目录" class="headerlink" title="refs 目录"></a>refs 目录</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd .git&#x2F;</span><br><span class="line">$ cd refs&#x2F;</span><br><span class="line">$ ll -a</span><br><span class="line">drwxr-xr-x    .</span><br><span class="line">drwxr-xr-x    ..</span><br><span class="line">drwxr-xr-x    heads</span><br><span class="line">drwxr-xr-x    tags</span><br></pre></td></tr></table></figure>

<h4 id="heads-目录"><a href="#heads-目录" class="headerlink" title="heads 目录"></a>heads 目录</h4><p><strong>小技巧：</strong></p>
<ul>
<li><code>git cat-file -t 2b81da</code><br>该命令可以查看以上对象 <code>2b81da</code>（这里它本应该表现为一个完整的 hash 值，截取其名称前 5-6 个字符或更多字符即可代表该对象）的类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd heads&#x2F;</span><br><span class="line">$ ll -a</span><br><span class="line">drwxr-xr-x    .</span><br><span class="line">drwxr-xr-x    ..</span><br><span class="line">-rw-r--r--    master  # master 分支</span><br><span class="line">$ cat master</span><br><span class="line">2b81da9321641975fed4724138fb77fe1f9b6a  # 对象</span><br><span class="line">$ git cat-file -t 2b81da</span><br><span class="line">commit  # 该对象是一个 commit 类型</span><br></pre></td></tr></table></figure>

<p>接着上面 <code>HEAD</code> 文件没有说完的内容，<code>refs/heads/master</code> 看起来像是一个路径，由此我们进入这个路径进行探寻</p>
<p>对于 <code>.git/refs/heads/master 文件</code>，其中存放的是当前 <code>master</code> 分支指针指向的 <strong>commit</strong></p>
<blockquote>
<p>注释：refs 目录下的 heads 目录可以理解为存放当前分支的目录<br>tags 目录可以理解为存放该仓库所有标签的目录，标签一般意味着一段开发历程的里程碑</p>
</blockquote>
<h4 id="tags-目录"><a href="#tags-目录" class="headerlink" title="tags 目录"></a>tags 目录</h4><p>接上，下面再来看一下 <code>tags</code> 路径下有什么</p>
<p><strong>小技巧：</strong></p>
<ul>
<li><code>git cat-file -p 345864</code><br>该命令查看以上对象 <code>345864</code> 的内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd .git</span><br><span class="line">$ cd tags&#x2F;</span><br><span class="line">$ ll -a</span><br><span class="line">drwxr-xr-x    .</span><br><span class="line">drwxr-xr-x    ..</span><br><span class="line">-rw-r--r--    release-1.0.0  # 假设已生成了 1 个 tag</span><br><span class="line">$ cat release-1.0.0</span><br><span class="line">345864e3d80d85cdf7fbf55a4a77d5f846d419  # 这个 hash 值代表一个对象</span><br><span class="line">$ git cat-file -t 345864</span><br><span class="line">tag  # 该对象是一个 tag 类型</span><br><span class="line">$ git cat-file -p 345864</span><br><span class="line">object f6237a79adb743a351ea26bf5eae51d4a14483</span><br><span class="line">type commit  # 以上对象是一个 commit 类型</span><br><span class="line">tag release-1.0.0</span><br><span class="line">tagger xxx &lt;xxx@xxx.com&gt; xxxxxxxxxx +0800</span><br><span class="line"></span><br><span class="line">commit_message  # commit message 内容</span><br><span class="line">$ git cat-file -t f6237a</span><br><span class="line">commit  # 该对象是一个 commit 类型</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注释：当我们查看 tags 路径下文件的内容时，显示了一个 hash 值，它通常代表一个对象，接着我们查看它的类型 —— 一个 tag 类型；接着是它的内容，内容中又包含一个 hash 值，它已经标注了自己的类型 —— 是一个 commit，并且还包含了 tag 名称、生成时间戳、提交人信息、commit message 等，可以再使用命令 <code>git cat-file -t f6237a</code> 检查一下</p>
</blockquote>
<h3 id="Git-文件系统的核心-objects"><a href="#Git-文件系统的核心-objects" class="headerlink" title="Git 文件系统的核心 - objects"></a>Git 文件系统的核心 - objects</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd .git</span><br><span class="line">$ cd objects&#x2F;</span><br><span class="line">$ ll -a</span><br><span class="line">drwxr-xr-x    .</span><br><span class="line">drwxr-xr-x    ..</span><br><span class="line">drwxr-xr-x    de</span><br><span class="line">drwxr-xr-x    e0</span><br><span class="line">drwxr-xr-x    e1</span><br><span class="line">drwxr-xr-x    e2</span><br><span class="line">drwxr-xr-x    e3</span><br><span class="line">drwxr-xr-x    e4</span><br><span class="line">drwxr-xr-x    info</span><br><span class="line">drwxr-xr-x    pack</span><br><span class="line">cd e0&#x2F;  # 随便进入一个目录</span><br><span class="line">$ ll -a</span><br><span class="line">drwxr-xr-x    .</span><br><span class="line">drwxr-xr-x    ..</span><br><span class="line">-rw-r--r--    8a9e0cde36b17bda8583a91a81c5e35f1408f4</span><br><span class="line">$ git cat-file -t e08a9e0cde  # 此时 Git 的策略是将父级目录名与该文件拼接成一个 hash 值</span><br><span class="line">tree  # 该对象是一个 tree 类型</span><br><span class="line">$ git cat-file -p e08a9e0cde</span><br><span class="line">100000 blob b72e61c8b6782cd0fab5w41ea2b044d1fe05be3f file_name  # blob 代表文件类型</span><br><span class="line">$ git cat-file -t b72e61c8</span><br><span class="line">blob  # 该对象是一个 blob 类型</span><br><span class="line">$ git cat-file -p b72e61c8</span><br><span class="line">file_name_content  # 展现文件中的内容 </span><br></pre></td></tr></table></figure>

<blockquote>
<p>注释：当我们进入 objects 目录下时使用 <code>ll -a</code> 命令可以看到一些以两个字母命名的目录。<br>随机选择进入一个这样的目录后再使用 <code>ll -a</code> 命令，得到的将是一个或多个类似 hash 值命名的对象，实际上 Git 的策略是以它的父级目录名加上该类似 hash 值的内容拼接作为一个 hash 值，查看该对象的类型，其为一个新的类型 —— tree，接着查看它的内容，其中又包含一个新类型 blob，代表文件类型，查看这个 blob 类型对象的内容即为实际文件的内容（即 file_name 对应的文件）</p>
</blockquote>
<p><strong>实际上，只要任何文件的内容是相同的，那么在 Git 看来它就是唯一的一个 blob</strong></p>
<h3 id="Git-对象彼此关系"><a href="#Git-对象彼此关系" class="headerlink" title="Git 对象彼此关系"></a>Git 对象彼此关系</h3><p><img src="/2020/09/22/Git-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/objects.png" alt="Git 对象彼此关系"></p>
<blockquote>
<ul>
<li>一个 <strong>commit</strong> 对应一个 <strong>tree</strong>，它代表了这个 <strong>commit</strong> 在这个时间点整个仓库的快照，即在这个时间点：目录结构、文件是什么样子，将通过 <strong>tree</strong> 呈现出来 —— 见黄色部分 <strong>823gb7…</strong></li>
<li><strong>tree</strong> 代表文件夹，<strong>tree</strong> 中可以包含 <strong>tree</strong><ul>
<li>可以看到 <strong>tree - 87a87a</strong> 代表 <strong>images</strong> 文件夹，具体见箭头指向</li>
<li>可以看到 <strong>tree - bdd489</strong> 代表 <strong>styles</strong> 文件见，具体见箭头指向</li>
</ul>
</li>
<li><strong>blob</strong> 代表文件，<strong>blob</strong> 与文件名没有任何关系，即不管文件名为什么，文件内容相同那么就只有一个 <strong>blob</strong></li>
</ul>
</blockquote>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">cpprto</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://cpprto.gitee.io/2020/09/22/Git-%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">https://cpprto.gitee.io/2020/09/22/Git-基本使用与常用命令/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://cpprto.gitee.io" target="_blank">CPPRTO</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a></div><div class="post_share"><div class="social-share" data-image="https://s1.ax1x.com/2020/09/22/wXA4RP.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/11/19/%E9%87%8D%E5%AD%A6Java-%E5%9F%BA%E7%A1%80/"><img class="prev-cover" src="https://s1.ax1x.com/2020/09/22/wXA4RP.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">重学Java - 基础</div></div></a></div><div class="next-post pull-right"><a href="/2020/09/20/%E4%BD%BF%E7%94%A8Hexo-Gitee-Pages-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E9%9D%99%E6%80%81%E5%8D%9A%E5%AE%A2/"><img class="next-cover" src="https://s1.ax1x.com/2020/09/22/wXA4RP.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">使用Hexo + Gitee Pages 搭建个人静态博客</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/09/20/使用Hexo-Gitee-Pages-搭建个人静态博客/" title="使用Hexo + Gitee Pages 搭建个人静态博客"><img class="cover" src="https://s1.ax1x.com/2020/09/22/wXA4RP.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-20</div><div class="title">使用Hexo + Gitee Pages 搭建个人静态博客</div></div></a></div></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By cpprto</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>